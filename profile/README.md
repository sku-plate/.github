# ğŸ• SKUPLATE
í”„ë¡œì íŠ¸ ê¸°ê°„ : 2023. 09. 27 ~ 2023. 11. 21

"ë§ê³ í”Œë ˆì´í„°"ì˜ ì„œë¹„ìŠ¤ ì¢…ë£Œë¥¼ ì•ë‘ê³ , ì´ë¥¼ ëŒ€ì²´í•˜ëŠ” ëŒ€í•™ê°€ ë§›ì§‘ ê³µìœ  ì›¹ì•± í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

<br/><br/>

<div dir="auto">
  <div class="markdown-heading" dir="auto">
    <h2 class="heading-element" dir="auto"> ë©‹ìŸì´ì‚¬ìì²˜ëŸ¼ ëŒ€í•™ ë™ì•„ë¦¬ 11ê¸° - SKUPLATE íŒ€ </h2>
  </div>
  <markdown-accessiblity-table data-catalyst="">
    <table>
      <thead>
        <tr>
          <th><a href="https://github.com/taehwan01"><img src="https://github.com/taehwan01.png" width="100px" style="max-width: 100%;"><br>ê¹€íƒœí™˜ [FrontEnd & BackEnd]</a></th>
          <th><a href="https://github.com/TirTir"><img src="https://github.com/TirTir.png" width="100px" style="max-width: 100%;"><br>ê¹€ìœ ì§„ [FrontEnd]</a></th>
        </tr>
      </thead>
    </table>
</markdown-accessiblity-table>
</div>

<br/><br/>

## SKUPLATE Repository
- [SKUPLATE React - FrontEnd](https://github.com/sku-plate/sku-plate-react)
- [SKUPLATE Express - BackEnd](https://github.com/sku-plate/sku-plate-express)

<br/><br/>

## SKUPLATE Main Page í™”ë©´
<div align="center">
  <img alt="SKUPLATE_WEB_VIEW" src="https://github.com/user-attachments/assets/18eeffac-b1f6-403c-914e-5fcacca5dbde" width="300px" max-width="38%">
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <img alt="SKUPLATE_APP_VIEW" src="https://github.com/user-attachments/assets/0a2f1f68-1fb4-474d-80c7-6a5ce0d8a813" width="300px" max-width="38%">
</div>

<br/><br/>

## ì£¼ìš” ê¸°ëŠ¥
- **íšŒì› ê´€ë¦¬**
  
  ì¹´ì¹´ì˜¤ ê¸°ë°˜ OAuthë¥¼ í™œìš©í•˜ì—¬ íšŒì› ê´€ë¦¬

- **ì‹ë‹¹ ê´€ë¦¬**
  
  ì‹ë‹¹ íƒœê·¸ / ì¹´í…Œê³ ë¦¬ ë³„ ëª©ë¡ ì¡°íšŒ
  
  ì‹ë‹¹ ìƒì„¸ ì¡°íšŒ(ë©”ë‰´, ì¹´ì¹´ì˜¤ë§µ, ì‹ë‹¹ ì—°ë½ì²˜ ë“±)
  
  ì‹ë‹¹ ì •ë³´ ê´€ë¦¬
  
  ì‹ë‹¹ ìŠ¤í¬ë©í•˜ì—¬ ë§ˆì´í˜ì´ì§€ì—ì„œ ì¡°íšŒí•˜ê¸°
  
  ì‹ë‹¹ ë¦¬ë·° ë“±ë¡í•˜ê¸°

<br/><br/>

## ê°œë°œ í™˜ê²½
### ê°œë°œ ë„êµ¬
<img src="https://img.shields.io/badge/VS%20Code-000000?style=for-the-badge&logo=&logoColor=white">

### Language
<img src="https://img.shields.io/badge/JavaScript-000000?style=for-the-badge&logo=javascript&logoColor=F7DF1E">

### BackEnd
<p>
  <img src="https://img.shields.io/badge/Node.js-000000?style=for-the-badge&logo=nodedotjs&logoColor=5fa04e">
  <img src="https://img.shields.io/badge/Express-000000?style=for-the-badge&logo=express&logoColor=ffffff">
</p>

### FrontEnd
<img src="https://img.shields.io/badge/React-000000?style=for-the-badge&logo=react&logoColor=61DAFB">

### Database
<img src="https://img.shields.io/badge/MongoDB-000000?style=for-the-badge&logo=mongodb&logoColor=47a248">

### Deployment
<p>
  <img src="https://img.shields.io/badge/AWS%20EC2-000000?style=for-the-badge&logo=amazonec2&logoColor=FF9900">
  <img src="https://img.shields.io/badge/AWS%20S3-000000?style=for-the-badge&logo=amazons3&logoColor=569A31">
  <img src="https://img.shields.io/badge/AWS%20Route53-000000?style=for-the-badge&logo=amazonroute53&logoColor=8c4fff">
</p>

### Others
<p>
  <img src="https://img.shields.io/badge/Figma-000000?style=for-the-badge&logo=figma&logoColor=#F24E1E">
  <img src="https://img.shields.io/badge/Notion-000000?style=for-the-badge&logo=notion&logoColor=ffffff">
</p>

<br/><br/>

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
<img alt="SKUPLATE_SYSTEM_ARCHITECTURE" src="https://github.com/user-attachments/assets/94766fc3-6790-4d3d-a095-d224f0fcfb08" width="100%">


<br/><br/>

## ë°ì´í„° êµ¬ì¡° ë° ìŠ¤í‚¤ë§ˆ ì„¤ê³„
í•´ë‹¹ í”„ë¡œì íŠ¸ì—ì„œëŠ” MongoDBë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³ , Mongooseë¥¼ í†µí•´ ë°ì´í„° ëª¨ë¸ì„ ì •ì˜í–ˆìŠµë‹ˆë‹¤.

### User ìŠ¤í‚¤ë§ˆ
| í•„ë“œëª…               | íƒ€ì…           | ì„¤ëª…                                               | í•„ìˆ˜ ì—¬ë¶€      | ê¸°ë³¸ê°’          |
|-------------------|--------------|------------------------------------------------|------------|---------------|
| `name`           | `String`     | ì‚¬ìš©ì ì´ë¦„                                       | âœ…         | ì—†ìŒ            |
| `profileImage`    | `String`     | í”„ë¡œí•„ ì´ë¯¸ì§€ ê²½ë¡œ                                 | âŒ         | `default.jpg` |
| `email`          | `String`     | ì‚¬ìš©ì ì´ë©”ì¼ (ê³ ìœ ê°’)                              | âŒ         | ì—†ìŒ            |
| `bookmarkedRestaurants` | `ObjectId[]` | ì¦ê²¨ì°¾ê¸°í•œ ì‹ë‹¹ ëª©ë¡ (Restaurant ì°¸ì¡°)            | âŒ         | ì—†ìŒ            |
| `active`         | `Boolean`    | í™œì„± ìƒíƒœ ì—¬ë¶€ (ë¹„í™œì„± ì‚¬ìš©ìëŠ” ì œì™¸)                | âŒ         | `true`         |

### ê°€ìƒ í•„ë“œ (Virtual Field)
- `bookmarks`: `bookmarkedRestaurants` í•„ë“œì™€ `Restaurant` ì»¬ë ‰ì…˜ì˜ ê´€ê³„ë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤.

### ë¯¸ë“¤ì›¨ì–´
- ì¿¼ë¦¬ ë¯¸ë“¤ì›¨ì–´: ëª¨ë“  `find` ì¿¼ë¦¬ì—ì„œ `active`ê°€ `false`ì¸ ì‚¬ìš©ìëŠ” ìë™ìœ¼ë¡œ ì œì™¸ë©ë‹ˆë‹¤.

```javascript
userSchema.pre(/^find/, function (next) {
  this.find({ active: { $ne: false } });
  next();
});
```

<br/>

### Restaurant ìŠ¤í‚¤ë§ˆ
| í•„ë“œëª…       | íƒ€ì…          | ì„¤ëª…                                | í•„ìˆ˜ ì—¬ë¶€      | ê¸°ë³¸ê°’    |
|------------|-------------|-----------------------------------|------------|---------|
| `name`     | `String`    | ì‹ë‹¹ ì´ë¦„ (ê³ ìœ ê°’)                     | âœ…         | ì—†ìŒ      |
| `typeOfFood` | `String`    | ìŒì‹ ì¢…ë¥˜                             | âœ…         | ì—†ìŒ      |
| `address`  | `String`    | ì£¼ì†Œ                                | âœ…         | ì—†ìŒ      |
| `menu`     | `Array`     | ë©”ë‰´ ëª©ë¡ (`name`, `price` í•„ë“œ í¬í•¨) | âŒ         | ì—†ìŒ      |
| `images`   | `String[]`  | ì‹ë‹¹ ì´ë¯¸ì§€ ê²½ë¡œ ë°°ì—´                     | âŒ         | ì—†ìŒ      |
| `tags`     | `String[]`  | ì‹ë‹¹ íƒœê·¸                             | âŒ         | ì—†ìŒ      |
| `active`   | `Boolean`   | í™œì„± ìƒíƒœ ì—¬ë¶€                         | âŒ         | `true`  |

### ê°€ìƒ í•„ë“œ (Virtual Field)
- `reviews`: `Restaurant`ê³¼ `Review` ì»¬ë ‰ì…˜ì˜ ê´€ê³„ë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤.

<br/>

### Review ìŠ¤í‚¤ë§ˆ
| í•„ë“œëª…        | íƒ€ì…          | ì„¤ëª…                           | í•„ìˆ˜ ì—¬ë¶€      | ê¸°ë³¸ê°’            |
|-------------|-------------|----------------------------|------------|----------------|
| `restaurant` | `ObjectId`  | ë¦¬ë·° ëŒ€ìƒ ì‹ë‹¹ (Restaurant ì°¸ì¡°)    | âœ…         | ì—†ìŒ             |
| `user`       | `ObjectId`  | ë¦¬ë·° ì‘ì„±ì (User ì°¸ì¡°)           | âœ…         | ì—†ìŒ             |
| `content`    | `String`    | ë¦¬ë·° ë‚´ìš©                        | âœ…         | ì—†ìŒ             |
| `rating`     | `Number`    | í‰ì                            | âœ…         | ì—†ìŒ             |
| `createdAt`  | `Date`      | ë¦¬ë·° ì‘ì„± ì‹œê°„                    | âŒ         | í˜„ì¬ ì‹œê°„ (`Date.now`) |

### ë¯¸ë“¤ì›¨ì–´

- ì¿¼ë¦¬ ë¯¸ë“¤ì›¨ì–´: `find` ì¿¼ë¦¬ ì‹¤í–‰ ì‹œ `user` í•„ë“œì˜ `name`ë§Œ ìë™ìœ¼ë¡œ í¬í•¨ë˜ë„ë¡ ì„¤ì •ë©ë‹ˆë‹¤.

```javascript
reviewSchema.pre(/^find/, function (next) {
  this.populate({
    path: 'user',
    select: 'name',
  });
  next();
});
```

<br/>

### ì»¬ë ‰ì…˜ ê°„ ê´€ê³„

1. **User â†” Restaurant**
   - ì‚¬ìš©ìëŠ” ì¦ê²¨ì°¾ê¸°í•œ ì‹ë‹¹ ëª©ë¡ì„ ê´€ë¦¬ (`bookmarkedRestaurants`)í•©ë‹ˆë‹¤.
   - `bookmarks` ê°€ìƒ í•„ë“œë¥¼ í†µí•´ `Restaurant`ì™€ì˜ ê´€ê³„ë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤.

2. **Restaurant â†” Review**
   - ì‹ë‹¹ì€ ë¦¬ë·° ëª©ë¡ (`reviews`)ì„ ê°€ì§‘ë‹ˆë‹¤.
   - `reviews` ê°€ìƒ í•„ë“œë¥¼ í†µí•´ `Review`ì™€ì˜ ê´€ê³„ë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤.

3. **Review â†” User**
   - ë¦¬ë·° ì‘ì„±ìëŠ” `user` í•„ë“œë¥¼ í†µí•´ `User`ë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤.
